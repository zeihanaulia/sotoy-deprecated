<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Install postgre pakai docker"><meta property="og:title" content="Install postgre pakai docker"><meta property="og:description" content="Docker saat ini sudah menjadi normal yang baru dalam pengembangan perangkat lunak. Docker mempermudah kita sebagai pengembang dalam melakukan instalasi aplikasi. Teringat jaman dulu waktu awal-awal mengembangkan perangkat lunak, Harus menginstall sepertangkat pake aplikasi seperti XAMP atau LAMP untuk mempermudah instalasi.
Sekarang tidak perlu lagi, cukup menggunakan docker kita bisa menginstallnya.
Installing Postgre SQL Untuk mendapatkan docker images container cukup mudah dengan code.
docker pull postgres kode diatas akan mendownload postgre versi terakhir, kalau ingin versi yang spesifik bisa menggunakan code ini:"><meta property="og:type" content="article"><meta property="og:url" content="https://sotoy.github.io/posts/docker/docker-postgres.html"><meta property="article:published_time" content="2020-03-27T00:00:00+00:00"><meta property="article:modified_time" content="2020-03-27T00:00:00+00:00"><title>Install postgre pakai docker | Sotoy</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.edc993575be58655f3e49634e3ca6db09cc38ac9aa03ecdbe81d941636e35273.css integrity="sha256-7cmTV1vlhlXz5JY048ptsJzDismqA+zb6B2UFjbjUnM="><script defer src=/id.search.min.b3f12112f5a8b57538d48e13bcfbe8a4786bbcf5ed58800e9b56500f5e04f337.js integrity="sha256-s/EhEvWotXU41I4TvPvopHhrvPXtWIAOm1ZQD14E8zc="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>Sotoy</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder aria-label maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/about.html>Ini tuh apa?</a></li></ul><ul><li><a href=/posts.html>Blog</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Install postgre pakai docker</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#installing-postgre-sql>Installing Postgre SQL</a></li><li><a href=#menyimpan-data-yang-ada-dipostgre>Menyimpan data yang ada dipostgre</a></li><li><a href=#menginstall-pgadmin-sebagai-gui-postgre-pada-docker>Menginstall PgAdmin sebagai GUI postgre pada docker</a></li></ul></nav></aside></header><article class=markdown><h1><a href=/posts/docker/docker-postgres.html>Install postgre pakai docker</a></h1><h5>2020/03/27</h5><div><a href=/categories/belajar.html>belajar</a></div><div><a href=/tags/docker.html>docker</a>,
<a href=/tags/postgre.html>postgre</a></div><p><p>Docker saat ini sudah menjadi normal yang baru dalam pengembangan perangkat lunak.
Docker mempermudah kita sebagai pengembang dalam melakukan instalasi aplikasi.
Teringat jaman dulu waktu awal-awal mengembangkan perangkat lunak,
Harus menginstall sepertangkat pake aplikasi seperti XAMP atau LAMP untuk mempermudah instalasi.</p><p>Sekarang tidak perlu lagi, cukup menggunakan docker kita bisa menginstallnya.</p><h2 id=installing-postgre-sql>Installing Postgre SQL</h2><p>Untuk mendapatkan docker images container cukup mudah dengan code.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker pull postgres
</code></pre></div><p>kode diatas akan mendownload postgre versi terakhir, kalau ingin versi yang spesifik bisa menggunakan code ini:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker pull postgres:9.6.17-alpine
</code></pre></div><p>kode tambahan <code>:9.6.17-alpine</code> adalah versi dari postgre yang ingin diinstall. Untuk melihat versi selengkapnya bisa lihat di <a href="https://hub.docker.com/_/postgres?tab=tags">https://hub.docker.com</a>.</p><h2 id=menyimpan-data-yang-ada-dipostgre>Menyimpan data yang ada dipostgre</h2><p>Yang namanya database pasti akan ada data yang disimpan, kita tidak boleh menyimpan data didalam kontainer. Kenapa?
Kontainer itu sifatnya sementara dia dapat dimatikan dan digantikan. Sedangkan datanya tidak boleh hilang.
Cara untuk menyimpan data dalam hardisk komputer kita dengan menggunakan <a href=https://docs.docker.com/storage/volumes/>volumes</a></p><p>Bikin folder tempat dimana data akan disimpan</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir docker/volumes/postgres
</code></pre></div><p>Jalankan kontainer</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -p 5432:5432 <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    --name pgsql-docker <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -v $HOME/docker/volumes/postgres:/var/lib/postgresql/data <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -e POSTGRES_PASSWORD<span style=color:#f92672>=</span>postgres  <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -d postgres
</code></pre></div><p>Untuk mengaksesnya mudah saja hanya perlu akses menggunakan data source name</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>psql -h localhost -U postgres -d postgres
</code></pre></div><h2 id=menginstall-pgadmin-sebagai-gui-postgre-pada-docker>Menginstall PgAdmin sebagai GUI postgre pada docker</h2><p>Kalau sebelumnya kita mengakses dengan psql atau konek menggunakan source code aplikasi kita.
Sekarang kita coba menginstal GUI untuk postgre yaitu PgAdmin. Caranya mirim seperti menginstall postgre.</p><p>Didownload dulu PgAdminnya</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker pull dpage/pgadmin4<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Lalu jalan kan kontainer</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -p 80:80 <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -e <span style=color:#e6db74>&#39;PGADMIN_DEFAULT_EMAIL=user@domain.com&#39;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -e <span style=color:#e6db74>&#39;PGADMIN_DEFAULT_PASSWORD=SuperSecret&#39;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -d dpage/pgadmin4
</code></pre></div><p>Akses <code>localhost</code> pada browser maka kita akan ditampilkan halaman login, dimana user dan passwordnya sudah kita buat ketika menjalankan pgadmin</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>-e <span style=color:#e6db74>&#39;PGADMIN_DEFAULT_EMAIL=user@domain.com&#39;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>-e <span style=color:#e6db74>&#39;PGADMIN_DEFAULT_PASSWORD=SuperSecret&#39;</span> <span style=color:#ae81ff>\
</span></code></pre></div><p>Untuk mengakses databasenya ada sedikit perbedaan, kita tidak bisa menggunakan <code>localhost</code>
seperti ketika kita mencoba konek menggunakan psql yang ada dikomputer kita.
Kita dapat mengakses dengan menggunakan ip dari container, caranya</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker inspect pgsql-docker
</code></pre></div><p>maka akan mengasilkan list berupa json, kita fokus saja pada bagian <code>NetworkSettings</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#e6db74>&#34;NetworkSettings&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
    <span style=color:#960050;background-color:#1e0010>...</span>
    <span style=color:#f92672>&#34;IPAddress&#34;</span>: <span style=color:#e6db74>&#34;172.17.0.2&#34;</span>,
    <span style=color:#960050;background-color:#1e0010>...</span>
}
</code></pre></div><p>Kita dapat menggunakan ip <code>172.17.0.2</code> sebagai host pada PgAdmin.
Dan sebenarnya sudah ada dokumentasinya <a href=https://www.pgadmin.org/docs/pgadmin4/development/container_deployment.html>disini</a></p><p>Selesai.</p></p></article><footer class=book-footer><div class="flex justify-between"><div><a class="flex align-center" href=https://github.com/zeihanaulia/sotoy/edit/master/content/posts/docker/docker-postgres.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span></span></a></div></div><div class=book-comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"sotoy"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></footer></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#installing-postgre-sql>Installing Postgre SQL</a></li><li><a href=#menyimpan-data-yang-ada-dipostgre>Menyimpan data yang ada dipostgre</a></li><li><a href=#menginstall-pgadmin-sebagai-gui-postgre-pada-docker>Menginstall PgAdmin sebagai GUI postgre pada docker</a></li></ul></nav></aside></main></body></html>